package codemarathon;

import java.util.Scanner;

import codemarathon.Telework.Status;

public class Main {
	public static int day = 0;

	public static void main(String[] args) {

		Readfile r=new Readfile();
		CreateFile c = new CreateFile();
		r.openFile();
		r.CreateEmploee();//???????????? ??? ????????????? ???? ??????? employees, teleworkers ??? ???? ?????????
		r.closeFile();
		if (day == 0) {
			Mask.initialization(); //??? ????? 0 ????????????? ?? ???????? ???
		}

		Scanner sc = new Scanner (System.in); //???????? ????????? ????? double
		Scanner keyboard = new Scanner(System.in); //???????? ????????? ????? int
		Scanner lines= new Scanner(System.in); //???????? ????????? ????? String

		int flag=0;
		boolean stop=true;

		while (flag != 8 ) {
			System.out.println("~~~~~~~~~~ ????? ???????? ~~~~~~~~~~");
			System.out.println("1. ???????? ?? ??? ????.");
			System.out.println("2. ???????? ????????? ??????? ????????????? ??? ???????????.");
			System.out.println("3. ????????? ???????????? ?? ?????? ??????.");
			System.out.println("4. ??????? ??????????? ??? ????????? ??? ????????.");
			System.out.println("5. ???????? ?????????????? ??????? ??????????");
			System.out.println("6. ???????? ?????????????? ????????? ??????????");
			System.out.println("7. ???????? ??? ?????????? ???? ??????????? ?? ???? ?? ????????? id ???.");
			System.out.println("8. ??????????? ???????????.");
			System.out.println("???????? ??????? [1-8]: ");//??????? ??? ??????
			flag = keyboard.nextInt();
			if (flag == 1) {
				day++; //????????? ??? ?????
				for (int i = 0; i < Telework.teleworkers.length; i++) {
					if (Telework.teleworkers[i].getWorkStatus() != Status.NORMAL) {
						Telework.teleworkers[i].setQuarantine_days(Telework.teleworkers[i].getQuarantine_days()+1);
					}
				}
				Telework.teleworkers[0].findTeleworkers();
				Telework.teleworkers[0].changeStatus();
				for (int i = 0; i < Telework.teleworkers.length; i++) {
					if (Telework.teleworkers[i].getWorkStatus() == Status.UNCONFIRMEDCASE1 && Telework.teleworkers[i].getQuarantine_days() == 2 ) {
						System.out.println("????????? ?? ???????????? ??? ???? covid19 ??? ???/??? "
								+ Telework.teleworkers[i].getName() + Telework.teleworkers[i].getSurname() + ".(??????/????????)");
						String answer = null;
						while (!(answer.equals("??????")) && !(answer.equals("????????"))) {
							answer = lines.nextLine();
							if (answer.equals("??????") ) {
								Telework.teleworkers[0].checkCovidCase(true, i+1);
							} else if (answer.equals("????????")) {
								Telework.teleworkers[0].checkCovidCase(false, i+1);
							} else {
								System.out.print("????? ????????.???????? ???????????????,");
								System.out.println("????????? ?? ???????????? ??? ???? covid19 ??? ???/??? "
										+ Telework.teleworkers[i].getName() + Telework.teleworkers[i].getSurname() + ".(??????/????????)");
							}
						}
					}
				}
			} else if (flag == 2) {
				String more = "???"; //????????????? ??? ??? ???? ?? ?????? ??????? ??? ????
				 while (!(more.equals("???") ) ) {
					 if (more.equals("???")) {
						 //? ????????? ???? ????? ???? ? ?????????? ?? ?????? ?? ??????? ???????? ??? ??? ????? ?? ?????????? ???? ?? ?????? ?????
						System.out.println("???????? ???????? id ??????????? ??? ??????????????: ");
						int idtherm = -99;  //????????????? ?????? ???? ???? ????? ?????? ???? ?? ?????? ??????? ? ????? ?????????
						while (idtherm > 50 || idtherm < 0) {
							idtherm = keyboard.nextInt();
							if (idtherm<50 && idtherm >= 0 && Telework.teleworkers[idtherm-1].getWorkStatus() == Status.NORMAL ) {
								double therm = 0;
								while(therm < 34 || therm > 43) {
									System.out.println("???? ???????????: ");
									therm = sc.nextDouble();
									if (therm >34 && therm < 43) {
									Thermometer.a(idtherm, therm);
									} else {
										System.out.println("????? ???????? ????????????");

									}
								}
									System.out.println("?????? ?? ????????? ??? ????? ??????????; ???/???");
									more = lines.nextLine();
									}else {
										System.out.println("????? ????????");
										System.out.println("???????? ???????? id ??????????? ??? ??????????????: ");
									}
								}  //? ????????? ??????????????? ???? ?? ?????? ????? ???????? ????????? ?????? ??????????? ???? ?? ??????
				 	}
					if (!(more.equals("???")) && !(more.equals("???"))) {
						  System.out.println("????? ???????");
						  System.out.println("?????? ?? ????????? ??? ????? ??????????; ???/???");
						  more = lines.nextLine();
					  }//?? ?? ??????? ????? ???????? ??? ?????????? ??? ???????? ?????? ???? ??????????
					if (more.equals("???")) {
						System.out.println("???????? ????????!");
					}
				} //? ????????? ????????? ?????? ??? ??????? ????? ??????????? ???? ??????????

		  } else if (flag == 3) {
			  String more = "???"; //????????????? ??? ??? ???? ?? ?????? ??????? ??? ????
			  while (!(more.equals("???") )){
				//? ????????? ???? ????? ???? ? ?????????? ?? ?????? ?? ??????? ???????? ??? ??? ????? ?? ?????????? ???? ?? ?????? ?????
				  int wear = -99; //????????????? ?????? ???? ???? ????? ?????? ???? ?? ?????? ??????? ? ????? ?????????
				  if (more.equals("???")) {
					  System.out.println("???????? ?????????? ?? id ??? ??????????? ??? ??? ??????? ?????:");
					  while (wear<0 || wear > 50) {
						  wear = keyboard.nextInt();
						  if (wear>=0 && wear<50) {
							Mask.insertnomask(wear);
							System.out.println("?????? ?? ????????? ??? ????? ??????????; ???/???");
							more = lines.nextLine();
						  } else {
							  System.out.println("????? ???????");
							  System.out.println("???????? ?????????? ?? id ??? ??????????? ??? ??? ??????? ?????:");
						  }
					  }//? ????????? ??????????????? ???? ?? ?????? ????? ???????? ????????? ?????? ??????????? ???? ?? ??????\
				  }
				  if (!(more.equals("???")) && !(more.equals("???"))) {
					  System.out.println("????? ???????");
					  System.out.println("?????? ?? ????????? ??? ????? ??????????; ???/???");
					  more = lines.nextLine();
				  }  //?? ?? ??????? ????? ???????? ??? ?????????? ??? ???????? ?????? ???? ??????????
			  }  //? ????????? ????????? ?????? ??? ??????? ????? ??????????? ???? ??????????
		  } else if (flag == 4) {

		  } else if (flag == 5) {
			  CovidCases.printCasesnow();
		  } else if (flag == 6) {
			  CovidCases.printCases();
		  } else if (flag == 7) {
			  int interest = 99;
			  while(interest>50 || interest < 0) {
				  System.out.println("???? id ??????????? ??? ?????? ?? ???? ??? ????????? ???: ");
				  interest = keyboard.nextInt();
				  if (interest<=50 && interest >=0) {
					  System.out.println(Telework.teleworkers[interest-1].toString());
				  } else {
					  System.out.println("????? ????????");
				  }
			  }
		  } else if (flag == 8) {
			  System.out.println("??????? ??????????? ???????????");
		  }
		}
	}
}